const toggleAnswerField=function(){const t={toggle:document.querySelector(".personal-shop-user-answers__toggle"),answerWrap:document.querySelector(".personal-shop-user-answers")};return{init:function(){t.toggle.addEventListener("click",e=>{"answer-toggle-button"==e.target.id&&(e.preventDefault(),t.answerWrap.classList.toggle("personal-shop-user-answers--is-visible"))})}}}(),updateProductQuantity=(toggleAnswerField.init(),function(){const e={addButtons:document.querySelectorAll(".personal-shop_cart-form .quantity.buttons_added .plus"),minusButtons:document.querySelectorAll(".personal-shop_cart-form .quantity.buttons_added .minus")};function t(e){setTimeout(()=>{var n=e.target.dataset.productId;if(n){let e=document.querySelector("#product-number-"+n),t=e.querySelector(".personal-shop__product-subtotal .woocommerce-Price-amount.amount .amount-number"),o=e.querySelector(".mobile-product-price .woocommerce-Price-amount.amount .amount-number"),r=e.querySelector(".mobile-product-price__qty .quantity");var n=parseInt(e.querySelector("#product-amount-"+n).value),u=n*parseInt(e.dataset.productPrice);null!=t&&(t.innerText=u+""),null!=o&&(o.innerHTML=u+""),null!=r&&(r.innerHTML=n+""),e.querySelector(".myronja-checkbox").dataset.productQuantity=n}},800)}function o(u){let c=u.target.dataset.productId;if(c){let e=document.querySelector("#product-number-"+c),t=e.querySelector(".personal-shop__product-subtotal .woocommerce-Price-amount.amount .amount-number"),o=e.querySelector(".mobile-product-price .woocommerce-Price-amount.amount .amount-number"),r=e.querySelector(".mobile-product-price__qty .quantity"),n=parseInt(e.querySelector("#product-amount-"+c).value);var u=parseInt(e.dataset.productPrice);1<=n&&(u=n*u-u,null!=t&&(t.innerText=u+""),null!=o&&(o.innerHTML=u+""),setTimeout(()=>{n=parseInt(e.querySelector("#product-amount-"+c).value),null!=r&&(r.innerHTML=n+""),e.querySelector(".myronja-checkbox").dataset.productQuantity=n},800))}}return{init:function(){e.addButtons.forEach(e=>{e.addEventListener("click",t)}),e.minusButtons.forEach(e=>{e.addEventListener("click",o)})}}}()),personalShopProductFormSubmission=(updateProductQuantity.init(),function(r){if("undefined"!=flatsomeChildPersonalMyAccountParam){var e=flatsomeChildPersonalMyAccountParam;const n=e.personalMyAccountNonce,u=e.ajaxUrl,c={personalMyAccountForm:document.querySelector(".personal-shop-wrapper .personal-shop_cart-form"),personalMyAccountSubmitBtn:document.querySelector(".personal-shop-wrapper .personal-shop_cart-form .personal-shop_form-submit-btn")};return{init:function(){null!=c.personalMyAccountForm&&c.personalMyAccountForm.addEventListener("submit",t)}};function t(e){e.preventDefault();const o={},t=new FormData(this);(productIdArr=t.getAll("personal-shop-product")).forEach(e=>{let t=document.querySelector("#product-number-"+e);o[""+e]=t.querySelector(".myronja-checkbox").dataset.productQuantity});e={action:"personal_shopper_myaccount",nonce:n,formFields:o};"undefined"!=productIdArr&&0!=productIdArr.length&&(c.personalMyAccountSubmitBtn.disabled=!0,c.personalMyAccountSubmitBtn.style.pointerEvents="none",r.post(u,e,function(e){r(document.body).trigger("wc_fragment_refresh")}).done(function(){r(".cart-item .off-canvas-toggle").trigger("click"),c.personalMyAccountSubmitBtn.disabled=!1,c.personalMyAccountSubmitBtn.style.pointerEvents="initial"}).fail(function(){}))}}}(jQuery));personalShopProductFormSubmission.init();