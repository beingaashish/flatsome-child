const categoriesFilter=function(n){if("undefined"!=typeof flatsomeChildCategoriesParam){var e=flatsomeChildCategoriesParam;const a=e.productCategoriesNonce,r=e.ajaxUrl,l=e.queryArgs,i={subCatLinks:document.querySelectorAll(".flatsome-child-related-product-categories-link"),containerEl:document.querySelector(".shop-container .products"),wooCounter:document.querySelector(".woocommerce-result-count"),wooOrdering:document.querySelector(".woocommerce-ordering"),wooPagination:document.querySelector(".woocommerce-pagination"),resetBtn:document.querySelector(".flatsome-child-related-product-categories-filter-reset")};return{init(){t()}};function t(){i.subCatLinks.forEach(o=>{o.addEventListener("click",e=>{e.preventDefault();var e=e.target,t=o.dataset.categoryId;l.hasOwnProperty("clickedCatID_"+t)?(delete l["clickedCatID_"+t],e.classList.remove("flatsome-child-active-cat-filter")):(l["clickedCatID_"+t]=parseInt(t),e.classList.add("flatsome-child-active-cat-filter")),console.log(l),1==Object.keys(l).length&&l.hasOwnProperty("currentPageCatID")?(null!=i.wooCounter&&(i.wooCounter.style.display="inline-block"),null!=i.wooOrdering&&(i.wooOrdering.style.display="inline-block"),null!=i.wooPagination&&(i.wooPagination.style.display="block")):(null!=i.wooCounter&&(i.wooCounter.style.display="none"),null!=i.wooOrdering&&(i.wooOrdering.style.display="none"),null!=i.wooPagination&&(i.wooPagination.style.display="none")),n(".shop-container").addClass("processing"),t={action:"flatsome_child_categories_filter",nonce:a,query_args:l},n.post(r,t,function(e){e=n(e);if(null!=e){for(;i.containerEl.firstChild;)i.containerEl.removeChild(i.containerEl.lastChild);Flatsome.attach("quick-view",e),Flatsome.attach("tooltips",e),Flatsome.attach("add-qty",e),Flatsome.attach("wishlist",e),n(".shop-container .products").append(e)}})})}),i.resetBtn.addEventListener("click",()=>{location.reload()})}}}(jQuery);categoriesFilter.init();